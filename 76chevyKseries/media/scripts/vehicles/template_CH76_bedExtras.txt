module Base
{

	model 76chevyKseriesRollbar
	{
		mesh = vehicles/Vehicles_76chevyKseries_Body|76chevy_rollbar,
		shader = damn_vehicle_shader,
		scale = 0.1,
	}

	model 76chevyKseriesToolbox
	{
		mesh = vehicles/Vehicles_76chevyKseries_Body|76chevy_toolbox,
		texture = Vehicles/Vehicles_76chevyKseries_Interior,
		shader = vehiclewheel,
		scale = 0.1,
	}

	model 76chevyK20Cap
	{
		mesh = vehicles/Vehicles_76chevyKseries_Body|76chevyK20_bedcap,
		shader = damn_vehicle_shader,
		scale = 0.1,
		static = FALSE,
		boneWeight = trunk_bone_top20 1.0,
	}

	model 76chevyK10Cap
	{
		mesh = vehicles/Vehicles_76chevyKseries_Body|76chevyK10_bedcap,
		shader = damn_vehicle_shader,
		scale = 0.1,
		static = FALSE,
		boneWeight = trunk_bone_top10 1.0,
	}

	template vehicle CH76BedExtras
	{
		part CH76TruckBedExtras
		{

			model CH76Rollbar
				{
                		file = 76chevyKseriesRollbar,
				}

			model CH76Toolbox
				{
                		file = 76chevyKseriesToolbox,
				}

			category = Other,
			area = Toolbox,
			parent = TrunkDoor,
			itemType = Base.76chevyKseriesRollbar;Base.76chevyKseriesToolbox,
			mechanicRequireKey = false,
			repairMechanic = true,

			container
			{
				conditionAffectsCapacity = false,
				test = CH76.ContainerAccess.Toolbox,
			}

			table install
			{
                	items
                	{
                    	1
                    		{
                        	type = Base.Wrench,
                        	count = 1,
                        	keep = true,
							equip = primary,
                    		}
                	}

                	time = 800,
                	skills = Mechanics:1,
                	recipes = Intermediate Mechanics,
                	test = Vehicles.InstallTest.Default,
                	complete = CH76.InstallComplete.BedExtras20,
                	requireUninstalled = CH76TruckBedCover,
            }

            table uninstall
            {
                	items
                	{
                    	1
                    		{
			  				type = Base.Wrench,
							count = 1,
							keep = true,
							equip = primary,
                    		}
                	}

					time = 900,
					skills = Mechanics:1,
					recipes = Intermediate Mechanics,
            		test = Vehicles.UninstallTest.Default,
					complete = CH76.UninstallComplete.BedExtras20,
					requireEmpty = true,

            }

            lua
            	{
					create = CH76.Create.BedExtras20,
					init = CH76.Init.BedExtras20,
				}
		}
	}

	template vehicle CH76BedCoverK20
	{
		part CH76TruckBedCover
		{

			model CH76Cap
				{
                		file = 76chevyK20Cap,
				}

			anim Close
				{
					anim = trunk_opening,
					reverse = TRUE,
					rate = 1.0,
				}

			anim Open
				{
					anim = trunk_opening,
					rate = 0.5,
				}

			anim Closed
				{
					anim = trunk_opening,
					animate = FALSE,
				}

			anim Opened
				{
					anim = trunk_opening,
					reverse = TRUE,
					animate = FALSE,
				}

			door
			{}

			category = Other,
			area = Toolbox,
			parent = TrunkDoor,
			itemType = Base.76chevyK20BedCap,
			mechanicRequireKey = false,
			repairMechanic = true,

			table install
			{
                	items
                	{
                    	1
                    		{
                        	type = Base.Wrench,
                        	count = 1,
                        	keep = true,
							equip = primary,
                    		}
                	}

                	time = 800,
                	skills = Mechanics:1,
                	recipes = Intermediate Mechanics,
                	test = Vehicles.InstallTest.Default,
                	complete = Vehicles.InstallComplete.Default,
                	requireUninstalled = CH76TruckBedExtras,
            }

            table uninstall
            {
                	items
                	{
                    	1
                    		{
			  				type = Base.Wrench,
							count = 1,
							keep = true,
							equip = primary,
                    		}
                	}

					time = 900,
					skills = Mechanics:1,
					recipes = Intermediate Mechanics,
            		test = Vehicles.UninstallTest.Default,
					complete = Vehicles.UninstallComplete.Default,
					requireUninstalled = CH76Roofrack,

            }

            lua
            	{
					create = DAMN.Create.Blank,
				}
		}
	}

	template vehicle CH76BedCoverK10
	{
		template! = CH76BedCoverK20,

		part CH76TruckBedCover
		{

			model CH76Cap
				{
                		file = 76chevyK10Cap,
				}

			itemType = Base.76chevyK10BedCap,

			lua
            	{
					create = DAMN.Create.Blank,
				}

		}
	}

}

